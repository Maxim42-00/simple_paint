<!doctype html>
<html>

<head>
    <title> Simple Paint for Android </title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script type="text/javascript">
let md = 0;
let curX;
let curY;
let oCanvas;
let ctx;


function getPageSize(){
let xScroll, yScroll;

if (window.innerHeight && window.scrollMaxY) {
xScroll = document.body.scrollWidth;
yScroll = window.innerHeight + window.scrollMaxY;
} else if (document.body.scrollHeight > document.body.offsetHeight){ // all but Explorer Mac
xScroll = document.body.scrollWidth;
yScroll = document.body.scrollHeight;
} else if (document.documentElement && document.documentElement.scrollHeight > document.documentElement.offsetHeight){ // Explorer 6 strict mode
xScroll = document.documentElement.scrollWidth;
yScroll = document.documentElement.scrollHeight;
} else { // Explorer Mac...would also work in Mozilla and Safari
xScroll = document.body.offsetWidth;
yScroll = document.body.offsetHeight;
}

let windowWidth, windowHeight;
if (self.innerHeight) { // all except Explorer
windowWidth = self.innerWidth;
windowHeight = self.innerHeight;
} else if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode
windowWidth = document.documentElement.clientWidth;
windowHeight = document.documentElement.clientHeight;
} else if (document.body) { // other Explorers
windowWidth = document.body.clientWidth;
windowHeight = document.body.clientHeight;
}

// for small pages with total height less then height of the viewport
if(yScroll < windowHeight){
pageHeight = windowHeight;
} else {
pageHeight = yScroll;
}

// for small pages with total width less then width of the viewport
if(xScroll < windowWidth){
pageWidth = windowWidth;
} else {
pageWidth = xScroll;
}

return [pageWidth,pageHeight,windowWidth,windowHeight];
}


function f_start()
{
    oCanvas = document.getElementById("cnv");
    oCanvas.width = getPageSize()[0];
    oCanvas.height = getPageSize()[1];
    ctx = oCanvas.getContext("2d");
}

function onmd()
{
    event.preventDefault();
    event.stopPropagation();

    let touch=event.targetTouches[0];

    md = 1;
    curX = touch.pageX;
    curY = touch.pageY;
    ctx.beginPath();
    ctx.moveTo(curX, curY);
}

function onmov()
{
    event.preventDefault();
    event.stopPropagation();
    if(md==0)
        return;

    let touch=event.targetTouches[0];

    curX = touch.pageX;
    curY = touch.pageY;
    ctx.lineTo(curX, curY);
    ctx.stroke();
}

function onmup()
{
    md=0;
}

function change_color()
{
    ctx.strokeStyle = document.getElementById("color").value;

} </script>
</head>

<body onload="f_start()">
    <div>
        <select id="color" onchange="change_color()">
            <option value="black"> black1 </option>
            <option value="blue"> blue </option>
            <option value="red"> red </option>
            <option value="green"> green </option>
            <option value="orange"> orange </option>
        </select>
    </div>
    <canvas id="cnv" width="400" height="300" ontouchmove="onmov()" ontouchstart="onmd()" ontouchend="onmup()"></canvas>
</body>

</html>